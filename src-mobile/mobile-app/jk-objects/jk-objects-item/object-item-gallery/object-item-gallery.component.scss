@import "../../../../styles/modules/mixins/mixin";

.object-gallery {
    width: 100%;
    display: flex;
    justify-content: center;
    margin: 0 0 96px;

    &__head { margin: 0 0 16px; }

    &__options {
        margin: 0 0 16px;
        .btn__admin-setting { margin-right: 8px; }
    }

    &__nav {
        display: flex;
        justify-content: flex-start;
        margin: 0 0 16px;

        &-list {
            display: flex;
            border-bottom: 1px solid #d8d8d8;
        }
        &-item {
            font: 18px/23px $font-proba;
            color: $col-black-5;
            position: relative;
            padding: 8px 0;
            padding-right: 16px;
            white-space: nowrap;
            cursor: pointer;
            &::before {
                content: '';
                position: absolute;
                bottom: -1px;
                left: 0;
                width: calc(100% - 16px);
                height: 1px;
                background-color: #d8d8d8;
            }
            &:last-child {
                padding-right: 20px;
                &::before { width: calc(100% - 20px); }
            }
            &_active {
                color: $col-red;
                &::before { background-color: $col-red; }
            }
        }
    }

    &__slider {
        position: relative;
        overflow: hidden;
        &-btn {
            position: absolute;
            top: calc(370px / 2);
            transform: translateY(-50%);
            z-index: 1;
            &_prev { left: 24px; }
            &_next { right: 24px; }
        }
        &-dots {
            width: 100%;
            display: flex;
            justify-content: center;
            position: absolute;
            top: calc(370px - 22px);
            left: 0;
            z-index: 1;

            span {
                display: block;
                width: 6px;
                height: 6px;
                background-color: $col-white;
                border-radius: 50%;
                margin: 0 8px;
            }
        }
    }
}

.current-dots { background-color: $col-red !important; }

@keyframes slideTimeline {
    0%   { width: 0%; }
    100% { width: 100%; }
}

.gallery-slide {
    width: 100%;
    display: flex;
    position: relative;
    transition: transform .5s ease;

    &__item {
        min-width: 100%;
        transition: opacity .4s linear;

        &_current {
            .gallery-slide__timeline::before {
                animation: slideTimeline 5s linear;
            }
        }
    }

    &__image {
        width: 100%;
        height: 370px;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    }
    &__timeline {
        width: 100%;
        height: 8px;
        background-color: #d8d8d8;
        position: relative;
        &::before {
            content: '';
            position: absolute;
            height: 100%;
            width: 0%;
            background-color: $col-red;
        }
    }
    &__edge {
        position: absolute;
        top: 50%;
        height: 50vh;
        background: rgba(0,0,0,.3);
        width: 0;
        border-radius: 50%;
        z-index: 1000;
        transition: .3s;
        will-change: transform;
    
        &-right {
            right: 0;
            transform: translateY(-50%) translateX(50%);
        }
    
        &-left {
            left: 0;
            transform: translateY(-50%) translateX(-50%);
        }
    }

    &__content {
        width: 100%;
        margin: 16px 0 0;

        &-title { margin: 0 0 8px; }
        &-descr {
            width: 100%;
            font: 18px/26px $font-proba;
            color: $col-black-5;
        }
    }
}

@media (max-width: 760px) {
    .object-gallery {

        &__nav {
            height: 40px;
            position: relative;

            &-wrap {
                width: calc(100% + 40px);
                height: 40px;
                position: absolute;
                top: 0;
                left: -20px;
                overflow: hidden;
                
                &_for-scroll {
                    height: calc(100% + 20px);
                    overflow-x: scroll;
                    overflow-y: hidden;
                    padding: 0 20px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: flex-start;
                    justify-content: flex-start;
                }
            }
            &-list {
                position: relative;
                border: 0;
                &::before {
                    content: '';
                    position: absolute;
                    bottom: -1px;
                    left: 0;
                    width: calc(100% - 20px);
                    height: 1px;
                    background: #d8d8d8;
                }
            }
        }
        &__head-title {
            font-size: 28px;
            line-height: 34px;
        }
        &__slider {
            height: 100%;
            &-btn { display: none; }
            &-dots {
                top: calc(48.686vw + 4px);
                span { background-color: #d8d8d8; }
            }
            &-wrap {
                height: calc(100% + 20px);
                display: flex;
                justify-content: flex-start;
                overflow-x: scroll;
                overflow-y: hidden;
            }
        }
    }

    .gallery-slide {
        width: auto;

        &__image {
            height: 48.686vw;
            min-height: 155px;
        }
        &__timeline {
            height: 4px;
            transform: translateY(-4px);
        }
        &__content { margin: 26px 0 0; }
        &__item {
            min-width: calc(100vw - 40px);
            &:not(:last-child) { margin-right: 4px; }
        }
    }
}